<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // #. api call을 위해서는 promise에 대하여 알아야 한다.
    // #. promise 어떤 함수의 실행 순서를 보장한다.
    // #. 동기와 비동기에 대하여 알아야 한다.

    /**
     * 긴 시간을 가지는 함수를 생성
     */
    function longTime() {
        let data = 0;
        setTimeout(() => {
            console.log("함수 LongTime 실행");
            data = 10;
        }, 3000);
        return data;
    }

    //console.log("함수 시작");
    // #. 여길 기다리지 않아요.
    //const result = longTime();
    //console.log("함수 끝", result);

    // #. 그래서 등장한게 promise입니다.
    function promiseData() {
        return new Promise((resolve, reject) => {
            let data = 0;
            // #. 3초 뒤 실행
            setTimeout(() => {
                data = 10;
                resolve(data);
            }, 3000);
        });
    }

    // #. promise의 실행은 이렇게 되어야 합니다.
    //promiseData().then((response) => {
    //    console.log(response);
    //});

    async function main() {
        console.log("함수 시작");
        // #. 여길 기다려요.
        const result = await promiseData();
        console.log("함수 끝", result);
    }

    main();
</script>

</html>